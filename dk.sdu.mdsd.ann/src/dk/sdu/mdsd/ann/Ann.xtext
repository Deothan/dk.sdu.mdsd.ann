grammar dk.sdu.mdsd.ann.Ann with org.eclipse.xtext.common.Terminals

generate ann "http://www.sdu.dk/mdsd/ann/Ann"


ANNModel:
		name=ID '{' 
			'alpha' alpha=DECIMAL 
			'epochs' epochs=INT 
			Layer+=Layer+  '}'
;    

DECIMAL:
 INT '.' INT
;

Layer:
	Hidden | Input | Output
;
	
Hidden:
	'hidden' '{' 
		'size' size=INT
		'learningRule' l_rule=LearningRule '}' 
;

Input:
	'in' '{' 
		'size' size=INT '}' 
;

Output:
	'out' '{' 
		'size' size=INT
		'learningRule' l_rule=LearningRule '}' 
;

LearningRule:
	Sigmoid | Stub | Custom
;

Sigmoid:
	rule='sigmoid'
;

Stub:
	rule='stub' name=ID
;

Custom:
	name=ID '(x)' '{'
	'function' '=' function=ID 
	'derivative' '=' derivative=ID '}'
;